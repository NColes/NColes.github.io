<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../favicon.png">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="../sweetalert-master/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../sweetalert-master/dist/sweetalert.css">

    <title>Metadata tool</title>

    <link href="style.css" rel="stylesheet">
    <link href="../style.css" rel="stylesheet">
    <link href="../bootstrap.min.css" rel="stylesheet">
    <link href="justified-nav.css" rel="stylesheet">
    <link href="jumbotron-narrow.css" rel="stylesheet">
    
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">

      <div class="masthead">
        <h3 class="text-muted">Metadata tool</h3>
        <nav>
          <ul class="nav nav-justified">
            <li><a href="#">Home</a></li>
            <li class="active"><a href="#">Metadata tool</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </nav>
      </div>

      <div class="jumbotron">
        <p>Paste your bulletin, article or dataset link below</p>
            <table id="formtable">
                <tr>
                    <td style="width:20%;"><label>Paste URL to check</label></td>
                    <td colspan="3"><input class="textBox" id="URLName" type="text" style="width:90%" required></td>

                </tr>
                <tr>
                    <td style="vertical-align:middle;"><label class="clickme"><input type="checkbox"id="showLatest" value="true" checked>Show latest?</label></td>
                    <td><input type="button" class="standardButton" value="Check URL" onclick="assemble();getMetadata();"/></td>
                    <td></td>
                </tr>
            </table>
      </div>

      <div class="row marketing">
        <div class="col-lg-6">
            <h4>Release metadata</h4>

            <table>

                <body>
                    <tr>
                        <td style="width:200px;">Title</td>
                        <td style="width:600px;" id="dTitle"></td>
                    </tr>
                    <tr>
                        <td>Edition</td>
                        <td id="dEdition"></td>
                    </tr>
                    <tr>
                        <td>Type</td>
                        <td id="dType"></td>
                    </tr>
                    <tr>
                        <td>Metadescription</td>
                        <td id="dMeta"></td>
                    </tr>
                    <tr>
                        <td>Keywords</td>
                        <td id="dKeywords"></td>
                    </tr>
                    <tr>
                        <td>National Statistics</td>
                        <td id="descNS"></td>
                    </tr>
                    <tr>
                        <td>Contact details</td>
                        <td>Name:
                            <div id="dName" style="display:inline;"></div><br>Email:
                            <div id="dEmail" style="display:inline;"></div><br>Telephone:
                            <div id="dPhone" style="display:inline;"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Next release date</td>
                        <td id="dNext"></td>
                    </tr>
                </body>
            </table>
            
                        <h4>Sections</h4>

            <ol>
                <div id="sections"></div>
                <div id="accordion"></div>
            </ol>

            <h4>Charts or images</h4>
            <table id="chartTable">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Subtitle</th>
                        <th>Source</th>
                        <th>Units</th>
                        <th>Alt text</th>
                        <th>Chart builder or image</th>
                    </tr>
                    </th>
                </thead>
                <tbody id="allcharts">

                </tbody>
            </table>
            <h4>Tables</h4>
            <table id="chartTable">
                <thead>
                    <th>Title</th>
                </thead>
                <tbody id="alltables">
                </tbody>
            </table>

            <h4>Related data</h4>

            <table id="chartTable">
                <thead>
                    <th>Title</th>
                    <th>Summary<th>
                </thead>
                <tbody id="rData">
                </tbody>
            </table>

            <h4>Related links</h4>

            <div id="rBulletins"></div>
            <div id="rDocs"></div>
            <div id="rMethod"></div>
            <div id="rMethodA"></div>

        </div>

      </div>

    </div> <!-- /container -->
            <script>
                function naturalCompare(a, b) {
                    ax = [],
                        bx = [];

                    a.replace(/(\d+)|(\D+)/g, function(_, $1, $2) {
                        ax.push([$1 || Infinity, $2 || ""])
                    });
                    b.replace(/(\d+)|(\D+)/g, function(_, $1, $2) {
                        bx.push([$1 || Infinity, $2 || ""])
                    });

                    while (ax.length && bx.length) {
                        an = ax.shift();
                        bn = bx.shift();
                        nn = (an[0] - bn[0]) || an[1].localeCompare(bn[1]);
                        if (nn) return nn;
                    }

                    return ax.length - bx.length;
                }
            </script>
    <script src="assemble.js"></script>
    <script src="getMetadata.js"></script>
  </body>
</html>
